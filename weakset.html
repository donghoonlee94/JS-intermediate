<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>
<body>
    <script>
      // Garbage collector = 마크되지 않은 모든 객체는 삭제된다. 
        let o = {}; // o라는 변수가 {}요런 객체를 참조하기 때문에, 참조카운트는 1이 된다.
        let o2 = o; // o2라는 변수도 o를 통해서 {} 요 객체를 참고하기 때문에, 참조카운트는 2가 된다.

        o2 = null; // o2에 null이 들어가면서 {} 객체의 참조카운트는 1이 된다.
        o = null ; // {} reference count : 0 => Garbage collector의 수거 대상이 된다.

        const s = new WeakSet() // 참고 카운트를 증가시키지 않음.
        s.add(o); // o라는 변수가 가리키는 {}를 s에 추가했지만, 참조카운트는 여전히 1이다.
        o = null; // {}의 참카가 0이 된다. 언젠가 GC 되고 그리고 나면 s에는 아무것도 없게 된다.

        // keys, values 등 순회하는 메소드를 사용할 수 없다. add, delete, has만 된다.
        // 그렇기에 참조형 데이터만 요소로 삼을 수 있다.
   </script>
</body>
</html>